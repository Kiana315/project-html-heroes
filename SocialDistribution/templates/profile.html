{% load static %}
<!DOCTYPE html>
<html lang="en">
<<<<<<< Updated upstream
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile Page</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../../static/css/profile.css"
    />
  </head>

  <style>
    a,
    a:link,
    a:visited,
    a:hover,
    a:active {
      text-decoration: none;
      color: inherit;
=======
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@{{ user.username }}</title>
    <link rel="stylesheet" type="text/css" href="../../static/css/profile.css">
</head>
<style>
    a, a:link, a:visited, a:hover, a:active {
        text-decoration: none;
        color: inherit;
>>>>>>> Stashed changes
    }

    .profile-photo {
      width: 80px;
      height: 80px;
    }
    .post-info {
      margin-left: 10px;
    }
  </style>

  <body>
    <nav class="navbar">
        <ul>
            <li><a href="/"><ion-icon name="home" size="large"></ion-icon></a></li>
            {% if user.is_authenticated %}
                <li><a href="{% url 'friendPosts' username=user.username %}"><ion-icon name="people" size="large"></ion-icon></a></li>
                <li><a href="{% url 'inbox' username=user.username %}"><ion-icon name="mail" size="large" target="_blank"></ion-icon></a></li>
                {% if user.avatar %}
                    <li><a href="{% url 'profile' username=user.username %}"><img class="user-avatar" src="{{ user.avatar.url }}" alt="User avatar"></a></li>
                {% else %}
                    <li><a href="{% url 'profile' username=user.username %}"><ion-icon name="person-circle" size="large"></ion-icon></a></li>
                {% endif %}
            {% else %}
                <li><a href="login/"><ion-icon name="people" size="large"></ion-icon></a></li>
                <li><a href="login/"><ion-icon name="mail" size="large"></ion-icon></a></li>
                <li><a href="login/"><ion-icon name="person" size="large"></ion-icon></a></li>
            {% endif %}
        </ul>
    </nav>

    <div class="button-container">
      <!-- <button class="back-button" onclick="history.back()">Back</button> -->
      <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <button type="submit" class="logout-button">Log Out</button>
      </form>
    </div>
    <div class="profile-container">
      <div class="profile-header">
        {% if user.avatar %}
        <img
          class="profile-photo"
          src="{{ user.avatar.url }}"
          onclick="document.getElementById('avatarInput').click()"
          alt="Profile Picture"
        />
        {% else %}
        <img
          class="profile-photo"
          src="{% static 'images/default_avatar.png' %}"
          onclick="document.getElementById('avatarInput').click()"
          alt="Profile Picture"
        />
        {% endif %}
        <form
          method="post"
          enctype="multipart/form-data"
          style="display: none"
          action="upload-avatar/"
        >
          {% csrf_token %}
          <input
            type="file"
            name="avatar"
            id="avatarInput"
            accept="image/*"
            onchange="this.form.submit()"
          />
        </form>
        <div class="profile-info" style="text-align: center">
          <div class="username" id="username">{{ user.username }}</div>
          <div class="email" id="email">Email: {{ user.email }}</div>
          <form action="update-bio/" method="post">
            {% csrf_token %}
            <textarea
              class="bio-container"
              name="bio"
              type="text"
              rows="4"
              cols="50"
            >
{{ user.bio }}</textarea
            >
            <button type="submit">Save</button>
          </form>
        </div>
        <div class="follow-container">
<<<<<<< Updated upstream
          <button
            id="follower-btn"
            class="top-button followers-button"
            onclick="location.href = 'followers'"
          >
            Followers<br />0
          </button>
          <button
            id="following-btn"
            class="top-button following-button"
            onclick="location.href = 'following'"
          >
            Following<br />0
          </button>
        </div>
        <button id="follow-btn" class="top-button followers-button">
          Follow
        </button>
      </div>

      <div class="post-container">
        <div class="recent-posts">
          <!-- This section should be populated with actual post data -->
          {% for post in posts %}
          <div class="post">
            {% if post.image %}
            <img src="{{ post.image.url }}" alt="" width="120" height="120" />
            {% endif %}
            <div class="post-info">
              <a href="{% url 'post_detail' post_id=post.id %}" id="none"
                ><h3 class="post-title">{{ post.title }}</h3>
              </a>
              <p>{{ post.content |slice:":30" }}</p>

              <div class="post-actions">
                <button id="post-share" class="action">
                  <ion-icon class = "material-symbols-outlined" name="share-outline"></ion-icon>
                  Share</button>
                <button id="post-comment" class="action">
                  <ion-icon class = "material-symbols-outlined" name="chatbox-ellipses-outline"></ion-icon>
                  Comment</button>
                <button id="post-like" class="action">
                  <ion-icon class = "material-symbols-outlined" name="heart-outline"></ion-icon>
                  Like</button>
              </div>

              <!-- <div class="interactions">
                <button class="top-button interaction-button">Like</button>
                <button class="top-button interaction-button">Comment</button>
                <button class="top-button interaction-button">Share</button>
              </div> -->
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
=======
            <button id="follower-btn" class="followers-button" onclick="location.href = 'followers'">
                Followers<br>0
            </button>
            <button id="following-btn" class="following-button" onclick="location.href = 'following'">
                Following<br>0
            </button>
        </div>

      
        <button id="follow-btn" class="followers-button">Follow</button>
>>>>>>> Stashed changes
    </div>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="../static/js/index.js"></script>
    <script src="../static/js/posting.js"></script>
    <script src="../static/js/post_detail.js"></script>

  </body>
</html>
